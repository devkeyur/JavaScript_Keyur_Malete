<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>EMI calculator</title>
    <link
      rel="stylesheet"
      href="/node_modules/bootstrap/dist/css/bootstrap.css"
    />
    <link
      rel="stylesheet"
      href="/node_modules/bootstrap-icons/font/bootstrap-icons.css"
    />

    <script>
      function AmountChange() {
        document.getElementById("txtAmount").value =
          document.getElementById("amountRange").value;
      }

      function YearChange() {
        document.getElementById("txtYears").value =
          document.getElementById("yearRange").value;
      }

      function RateChange() {
        document.getElementById("txtRate").value =
          document.getElementById("rateRange").value;
      }

      function CalculateClick() {
        var P = parseInt(document.getElementById("txtAmount").value);
        var R = parseInt(document.getElementById("txtRate").value)/12/100;
        var N = parseInt(document.getElementById("txtYears").value)*12;
        var EMI = P*R*Math.pow(1+R,N)/Math.pow(1+R,(N-1));

        document.getElementById("msg").innerHTML = "Your Monthly installment's <b>&#8377;" + Math.round(EMI) + "</b> for loan amount &#8377; " + P;
      }
    </script>
  </head>
  <body class="container-fluid">
    <div class="border border-2 mt-3">
      <h3>Personal Loan EMI calculator</h3>
      <div class="row mt-4 mb-3">
        <div class="col">
          Amount You need &#8377; <input type="text" id="txtAmount" />
        </div>
        <div class="col">
          for <input type="text" id="txtYears" size="4" /> years
        </div>
        <div class="col">
          interest rate <input type="text" id="txtRate" /> %
        </div>
      </div>
      <div class="row mt-4 mb-3">
        <div class="col">
          <input
            type="range"
            onchange="AmountChange()"
            class="form-range"
            id="amountRange"
            min="10000"
            max="500000"
            value="10000"
          />
          <div class="d-flex justify-content-between">
            <span>&#8377; 10,000</span>
            <span>&#8377; 5,00,000</span>
          </div>
        </div>
        <div class="col">
          <input
            type="range"
            onchange="YearChange()"
            min="1"
            max="5"
            value="1"
            id="yearRange"
            class="form-range"
          />
          <div class="d-flex justify-content-between">
            <span>1</span>
            <span>5</span>
          </div>
        </div>
        <div class="col">
          <input
            type="range"
            id="rateRange"
            onchange="RateChange()"
            class="form-range"
            min="10.43"
            max="18.43"
            step="0.01"
            value="10.43"
          />
          <div class="d-flex justify-content-between">
            <span>10.43 %</span>
            <span>18.43 %</span>
          </div>
        </div>
      </div>
      <div class="mt-4 row mb-4">
        <div class="col text-end">
          <button class="btn btn-primary" onclick="CalculateClick()">
            Calculate
          </button>
        </div>
      </div>
    </div>
    <p id="msg" class="mt-4 text-center"></p>

    <script src="/node_modules/bootstrap/dist/js/bootstrap.bundle.js"></script>
  </body>
</html>


<!--
AmountChange():
User interacts with a slider (e.g., amountRange).
The function captures the new value from the slider.
It updates the value of an input field (e.g., txtAmount) to match the slider value.
This keeps the input field synchronized with the slider.

YearChange():
User interacts with a slider (e.g., yearRange).
The function captures the new value from the slider.
It updates the value of an input field (e.g., txtYears) to match the slider value.
This keeps the input field synchronized with the slider.

RateChange():
User interacts with a slider (e.g., rateRange).
The function captures the new value from the slider.
It updates the value of an input field (e.g., txtRate) to match the slider value.
This keeps the input field synchronized with the slider.

CalculateClick():
User clicks a "Calculate" button.
The function retrieves the loan amount (P), interest rate (R), and loan duration (N) from the input fields.
It calculates the monthly installment amount (EMI) using a formula.
The calculated EMI is displayed in a message (e.g., "Your Monthly installment's ₹ X for loan amount ₹ Y") on the w ebpage.


User Interaction:
   [Slider for Loan Amount]       [Slider for Loan Duration]        [Slider for Interest Rate]
        |  (Interact)  |                  |  (Interact)  |               |  (Interact)  |
        v              v                  v              v               v

   +-------------------+           +-------------------+           +-------------------+
   | AmountChange()   |           | YearChange()     |           | RateChange()     |
   |                 |           |                 |           |                 |
   | Update txtAmount |           | Update txtYears |           | Update txtRate  |
   +-------------------+           +-------------------+           +-------------------+
                                    |                  |
                                    v                  v

                                  +-------------------+
                                  | CalculateClick()  |
                                  |                   |
                                  | Calculate EMI     |
                                  | Display Message   |
                                  +-------------------+

 -->